# 1.vueå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ

* **ç”Ÿå‘½å‘¨æœŸ:**
* 1.åˆåï¼š**ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°**ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚
* 2.æ˜¯ä»€ä¹ˆï¼š`Vue`åœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚
* 3.**ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹**ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„ã€‚
* 4.ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯`vm` æˆ– `ç»„ä»¶å®ä¾‹å¯¹è±¡`ã€‚

1. åˆå§‹åŒ–æ˜¾ç¤º

- `beforeCreate()`
- `created()`
- `beforeMount()`
- `mounted()`

1. æ›´æ–°çŠ¶æ€

- `beforeUpdate()`
- `updated()`

1. é”€æ¯ `vue` å®ä¾‹: `vm.$destory()`

- `beforeDestory()`
- `destoryed()`

```html
<title>å¼•å‡ºç”Ÿå‘½å‘¨æœŸ</title>
<script type="text/javascript" src="../js/vue.js"></script>

<div id="root">
  <h2 v-if="a">ä½ å¥½å•Š</h2>
  <h2 :style="{opacity}">çœ‹ç¬”è®°å­¦Vue</h2>
</div>

<script type="text/javascript">
  Vue.config.productionTip = false
  new Vue({
    el: '#root',
    data: {
      a: false,
      opacity: 1
    },
    methods: {
    },
    // ğŸ”´Vue å®Œæˆæ¨¡æ¿çš„è§£æå¹¶æŠŠåˆå§‹çš„çœŸå® DOM å…ƒç´ æ”¾å…¥é¡µé¢åï¼ˆæŒ‚è½½å®Œæ¯•ï¼‰è°ƒç”¨ mounted
    mounted() {
      console.log('mounted', this)
      setInterval(() => {
        this.opacity -= 0.01
        if(this.opacity <= 0) this.opacity = 1
      }, 16)
    },
  })

  // é€šè¿‡å¤–éƒ¨çš„å®šæ—¶å™¨å®ç°ï¼ˆä¸æ¨èï¼‰
  // setInterval(() => {
  // 		vm.opacity -= 0.01
  // 		if(vm.opacity <= 0) vm.opacity = 1
  // },16)
</script>
```



## å®˜æ–¹çš„å›¾ç¤º

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ba60c164f6fc4fca805cca20782aad52~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

## 2.åŸç†è§£é‡Šå›¾

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17e9b278e1414f3a8fc6ad1d28e69fdd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.awebp)

# 3. å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•

- `mounted()`:  å‘é€**ajax**è¯·æ±‚, å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰å¼‚æ­¥ä»»åŠ¡ã€åˆå§‹åŒ–æ“ä½œã€‘
- `beforeDestroy()`:  åšæ”¶å°¾å·¥ä½œ, å¦‚: æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€é¦–å°¾å·¥ä½œã€‘

# 4. å…³äºé”€æ¯Vueå®ä¾‹

* 1. é”€æ¯åå€ŸåŠ©**Vue**å¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•ä¿¡æ¯
* 2. é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”ŸDOMäº‹ä»¶ä¾ç„¶æœ‰æ•ˆ
* 3. ä¸€èˆ¬ä¸ä¼šåœ¨`beforeDestroy`æ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä½¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹äº†ã€‚

## 5.ç¤ºä¾‹

```html
<title>åˆ†æç”Ÿå‘½å‘¨æœŸ</title>
	<script type="text/javascript" src="../js/vue.js"></script>

	<div id="root" :x="n">
		<h2 v-text="n"></h2>
		<h2>å½“å‰çš„nå€¼æ˜¯ï¼š{{ n }}</h2>
		<button @click="add">ç‚¹æˆ‘n+1</button>
		<button @click="bye">ç‚¹æˆ‘é”€æ¯vm</button>
	</div>

<script type="text/javascript">
	Vue.config.productionTip = false

	new Vue({
		el: '#root',
		// template:`
		// 	<div>
		// 		<h2>å½“å‰çš„nå€¼æ˜¯ï¼š{{n}}</h2>
		// 		<button @click="add">ç‚¹æˆ‘n+1</button>
		// 	</div>
		// `,
		data: {
			n: 1
		},
		methods: {
			add() { console.log('add')
				this.n++
			},
			bye() {
				console.log('bye')
				this.$destroy()
			}
		},
		watch: {
			n() {
				console.log('nå˜äº†')
			}
		},
		beforeCreate() {console.log('beforeCreate')},
		created() {console.log('created')},
		beforeMount() {console.log('beforeMount')},
		mounted() {console.log('mounted')},
		beforeUpdate() {console.log('beforeUpdate')},
		updated() {console.log('updated')},
		beforeDestroy() {console.log('beforeDestroy')},
		destroyed() {console.log('destroyed')},
	})
</script>
```



```html
<body>
  <div id="demo">
    <button @click="destoryVM">destroy vm</button>
    <p v-show="isShow">å­¦ä¹ å‰ç«¯å­¦å‰ç«¯</p>
  </div>
  <script src="../js/vue.js"></script>
  <script>
    new Vue({
      el: "#demo",
      data: {
        isShow: true,
      },

      // 1. åˆå§‹åŒ–é˜¶æ®µ
      beforeCreate() {
        console.log('beforeCreate()');
      },
      created() {
        console.log('created()');
      },

      beforeMount() {
        console.log('beforeMount()');
      },
      mounted() { // åˆå§‹åŒ–æ˜¾ç¤ºä¹‹åç«‹å³è°ƒç”¨ï¼ˆ1æ¬¡ï¼‰
        console.log('mounted()');
        this.intervalId = setInterval(() => { // å°†å‡½æ•°è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œæœ€å¥½ç”¨ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºå®ƒå‡½æ•°å†…éƒ¨æ²¡æœ‰thisï¼Œç›´æ¥ç”¨å¤–é¢çš„this
          this.isShow = !this.isShow;
        }, 1000)

      },

      // 2. æ›´æ–°é˜¶æ®µ
      beforeUpdate() {
        console.log('beforeUpdate()');
      },
      updated() {
        console.log('updated()');
      },

      // 3. æ­»äº¡é˜¶æ®µ
      beforeDestroy() { // æ­»äº¡ä¹‹å‰è°ƒç”¨ï¼ˆ1æ¬¡ï¼‰
        console.log('beforeDestroy()');
        clearInterval(this.intervalId); //æ¸…é™¤å®šæ—¶å™¨
      },
      destroyed() {
        console.log('destroyed()');
      },

      methods: {
        destoryVM() {
          this.$destroy(); // å†…å­˜æ³„æ¼ï¼Œå®šæ—¶å™¨è¿˜æ²¡æœ‰æ¸…é™¤
        }
      },
    })
  </script>
</body>
```

# çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ

* 1.åŠ è½½æ¸²æŸ“è¿‡ç¨‹

```js
çˆ¶beforeCreate -> çˆ¶created -> çˆ¶beforeMount -> å­beforeCreate->å­created->å­beforeMount->å­mounted->çˆ¶mounted
```

* 2.æ›´æ–°è¿‡ç¨‹

```js
çˆ¶beforeUpdate->å­beforeUpdate->å­updated->çˆ¶updated
```

* 3.é”€æ¯è¿‡ç¨‹

```js
çˆ¶beforeUpdate->å­beforeUpdate->å­updated->çˆ¶updated
```

* 4.å¸¸è§é’©å­ç‰ˆæœ¬

```js
çˆ¶beforeDestroy->å­beforeDestroy->å­destroyed->çˆ¶destroyed
```



