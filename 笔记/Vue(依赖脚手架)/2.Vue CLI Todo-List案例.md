### 1.ToDo-List æ¡ˆä¾‹

> * 1.ç»„ä»¶åŒ–ç¼–ç æµç¨‹
>   * 1æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸htmlå…ƒç´ å†²çª
>   * 2å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨
>     â—‹ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯
>     â—‹ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆçŠ¶æ€æå‡ï¼‰
>   * 3å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹
>
> 2.propsé€‚ç”¨äº
>
> * açˆ¶ç»„ä»¶ ==> å­ç»„ä»¶ é€šä¿¡
> * bå­ç»„ä»¶ ==> çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶ç»„ä»¶å…ˆç»™å­ç»„ä»¶ä¸€ä¸ªå‡½æ•°ï¼‰
>
> * 3.ä½¿ç”¨v-modelæ—¶è¦åˆ‡è®°ï¼šv-modelç»‘å®šçš„å€¼ä¸èƒ½æ˜¯propsä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸ºpropsæ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ 
> * 4.propsä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶Vueä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨èè¿™æ ·åš

### 2.æœ¬åœ°å­˜å‚¨

#### 2.1 WebStorageï¼ˆjs æœ¬åœ°å­˜å‚¨ï¼‰

* å­˜å‚¨å†…å®¹å¤§å°ä¸€èˆ¬æ”¯æŒ 5MB å·¦å³ï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½è¿˜ä¸ä¸€æ ·ï¼‰ 

* æµè§ˆå™¨ç«¯é€šè¿‡`Window.sessionStorage`å’Œ`Window.localStorage`å±æ€§æ¥å®ç°æœ¬åœ°å­˜å‚¨æœºåˆ¶ 
  ç›¸å…³API
  
  > **`LocalStorage`çš„ä¼˜ç‚¹ï¼š**
  >
  > - åœ¨å¤§å°æ–¹é¢ï¼Œ`LocalStorage`çš„å¤§å°ä¸€èˆ¬ä¸º5MBï¼Œå¯ä»¥å‚¨å­˜æ›´å¤šçš„ä¿¡æ¯
  > - `LocalStorage`æ˜¯æŒä¹…å‚¨å­˜ï¼Œå¹¶ä¸ä¼šéšç€é¡µé¢çš„å…³é—­è€Œæ¶ˆå¤±ï¼Œé™¤éä¸»åŠ¨æ¸…ç†ï¼Œä¸ç„¶ä¼šæ°¸ä¹…å­˜åœ¨
  > - ä»…å‚¨å­˜åœ¨æœ¬åœ°ï¼Œä¸åƒCookieé‚£æ ·æ¯æ¬¡HTTPè¯·æ±‚éƒ½ä¼šè¢«æºå¸¦
  >
  > **LocalStorageçš„ç¼ºç‚¹ï¼š**
  >
  > - å­˜åœ¨æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼ŒIE8ä»¥ä¸‹ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸æ”¯æŒ
  >
  > - å¦‚æœæµè§ˆå™¨è®¾ç½®ä¸ºéšç§æ¨¡å¼ï¼Œé‚£æˆ‘ä»¬å°†æ— æ³•è¯»å–åˆ°`LocalStorage`
  >
  > - `LocalStorage`å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå³ç«¯å£ã€åè®®ã€ä¸»æœºåœ°å€æœ‰ä»»ä½•ä¸€ä¸ªä¸ç›¸åŒï¼Œéƒ½ä¸ä¼šè®¿é—®
  >
  > - **LocalStorageçš„ä½¿ç”¨åœºæ™¯:**
  >   - æœ‰äº›ç½‘ç«™æœ‰æ¢è‚¤çš„åŠŸèƒ½ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å°†æ¢è‚¤çš„ä¿¡æ¯å­˜å‚¨åœ¨æœ¬åœ°çš„LocalStorageä¸­ï¼Œå½“éœ€è¦æ¢è‚¤çš„æ—¶å€™ï¼Œç›´æ¥æ“ä½œ`LocalStorag`eå³å¯
  >   - åœ¨ç½‘ç«™ä¸­çš„ç”¨æˆ·æµè§ˆä¿¡æ¯ä¹Ÿä¼šå­˜å‚¨åœ¨`LocalStorage`ä¸­ï¼Œè¿˜æœ‰ç½‘ç«™çš„ä¸€äº›ä¸å¸¸å˜åŠ¨çš„ä¸ªäººä¿¡æ¯ç­‰ä¹Ÿå¯ä»¥å­˜å‚¨åœ¨æœ¬åœ°çš„`LocalStorage`ä¸­
  >
  >
  > **LocalStorageçš„å¸¸ç”¨APIï¼š**
  >
  > ```
  > // ä¿å­˜æ•°æ®åˆ° localStorage
  > localStorage.setItem('key', 'value');
  > 
  > // ä» localStorage è·å–æ•°æ®
  > let data = localStorage.getItem('key');
  > 
  > // ä» localStorage åˆ é™¤ä¿å­˜çš„æ•°æ®
  > localStorage.removeItem('key');
  > 
  > // ä» localStorage åˆ é™¤æ‰€æœ‰ä¿å­˜çš„æ•°æ®
  > localStorage.clear();
  > 
  > // è·å–æŸä¸ªç´¢å¼•çš„Key
  > localStorage.key(index)
  > ```
  
  >
  >
  >### SessionStorage
  >
  >SessionStorageå’ŒLocalStorageéƒ½æ˜¯åœ¨HTML5æ‰æå‡ºæ¥çš„å­˜å‚¨æ–¹æ¡ˆï¼ŒSessionStorage ä¸»è¦ç”¨äºä¸´æ—¶ä¿å­˜åŒä¸€çª—å£(æˆ–æ ‡ç­¾é¡µ)çš„æ•°æ®ï¼Œåˆ·æ–°é¡µé¢æ—¶ä¸ä¼šåˆ é™¤ï¼Œå…³é—­çª—å£æˆ–æ ‡ç­¾é¡µä¹‹åå°†ä¼šåˆ é™¤è¿™äº›æ•°æ®ã€‚
  >
  >**SessionStorageä¸LocalStorageå¯¹æ¯”ï¼š**
  >
  >- SessionStorageå’ŒLocalStorageéƒ½åœ¨**æœ¬åœ°è¿›è¡Œæ•°æ®å­˜å‚¨**ï¼›
  >- SessionStorageä¹Ÿæœ‰åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä½†æ˜¯SessionStorageæœ‰ä¸€æ¡æ›´åŠ ä¸¥æ ¼çš„é™åˆ¶ï¼ŒSessionStorage**åªæœ‰åœ¨åŒä¸€æµè§ˆå™¨çš„åŒä¸€çª—å£ä¸‹æ‰èƒ½å¤Ÿå…±äº«**ï¼›
  >- LocalStorageå’ŒSessionStorage**éƒ½ä¸èƒ½è¢«çˆ¬è™«çˆ¬å–**ï¼›
  >
  >**SessionStorageçš„å¸¸ç”¨APIï¼š**
  >
  >```
  >// ä¿å­˜æ•°æ®åˆ° sessionStorage
  >sessionStorage.setItem('key', 'value');
  >
  >// ä» sessionStorage è·å–æ•°æ®
  >let data = sessionStorage.getItem('key');
  >
  >// ä» sessionStorage åˆ é™¤ä¿å­˜çš„æ•°æ®
  >sessionStorage.removeItem('key');
  >
  >// ä» sessionStorage åˆ é™¤æ‰€æœ‰ä¿å­˜çš„æ•°æ®
  >sessionStorage.clear();
  >
  >// è·å–æŸä¸ªç´¢å¼•çš„Key
  >sessionStorage.key(index)
  >```
  >
  >**SessionStorageçš„ä½¿ç”¨åœºæ™¯**
  >
  >ç”±äºSessionStorageå…·æœ‰æ—¶æ•ˆæ€§ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€äº›ç½‘ç«™çš„æ¸¸å®¢ç™»å½•çš„ä¿¡æ¯ï¼Œè¿˜æœ‰ä¸´æ—¶çš„æµè§ˆè®°å½•çš„ä¿¡æ¯ã€‚å½“å…³é—­ç½‘ç«™ä¹‹åï¼Œè¿™äº›ä¿¡æ¯ä¹Ÿå°±éšä¹‹æ¶ˆé™¤äº†ã€‚

`localStorage`

```html

<h2>localStorage</h2>
<button onclick="saveDate()">ç‚¹æˆ‘ä¿å­˜æ•°æ®</button><br/>
<button onclick="readDate()">ç‚¹æˆ‘è¯»æ•°æ®</button><br/>
<button onclick="deleteDate()">ç‚¹æˆ‘åˆ é™¤æ•°æ®</button><br/>
<button onclick="deleteAllDate()">ç‚¹æˆ‘æ¸…ç©ºæ•°æ®</button><br/>

<script>
  let person = {name:"JOJO",age:20}

  function saveDate(){
    localStorage.setItem('msg','localStorage')
    localStorage.setItem('person',JSON.stringify(person))
  }
  function readDate(){
    console.log(localStorage.getItem('msg'))
    const person = localStorage.getItem('person')
    console.log(JSON.parse(person))
  }
  function deleteDate(){
    localStorage.removeItem('msg')
    localStorage.removeItem('person')
  }
  function deleteAllDate(){
    localStorage.clear()
  }
</script>
```

`sessionStorage`

```html
<h2>sessionStorage</h2>
<button onclick="saveDate()">ç‚¹æˆ‘ä¿å­˜æ•°æ®</button><br/>
<button onclick="readDate()">ç‚¹æˆ‘è¯»æ•°æ®</button><br/>
<button onclick="deleteDate()">ç‚¹æˆ‘åˆ é™¤æ•°æ®</button><br/>
<button onclick="deleteAllDate()">ç‚¹æˆ‘æ¸…ç©ºæ•°æ®</button><br/>

<script>
  let person = {name:"JOJO",age:20}

  function saveDate(){
    sessionStorage.setItem('msg','sessionStorage')
    sessionStorage.setItem('person',JSON.stringify(person))
  }
  function readDate(){
    console.log(sessionStorage.getItem('msg'))
    const person = sessionStorage.getItem('person')
    console.log(JSON.parse(person))
  }
  function deleteDate(){
    sessionStorage.removeItem('msg')
    sessionStorage.removeItem('person')
  }
  function deleteAllDate(){
    sessionStorage.clear()
  }
</script>
```

##### **ä½¿ç”¨æœ¬åœ°å­˜å‚¨ä¼˜åŒ–Todo-List**

* src/App.vue

```vue
<template>
	<div id="root">
		<div class="todo-container">
			<div class="todo-wrap">
				<MyHeader :addTodo="addTodo"/>
				<MyList :todos="todos" :checkTodo="checkTodo" :deleteTodo="deleteTodo"/>
				<MyFooter :todos="todos" :checkAllTodo="checkAllTodo" :clearAllTodo="clearAllTodo"/>
			</div>
		</div>
	</div>
</template>

<script>
	import MyHeader from './components/MyHeader'
	import MyList from './components/MyList'
	import MyFooter from './components/MyFooter.vue'

	export default {
		name:'App',
		components:{MyHeader,MyList,MyFooter},
		data() {
			return {
				// ğŸ”´ä»æœ¬åœ°å­˜å‚¨ä¸­è·å¾—æ•°æ®ï¼Œnullå°±åˆ›å»ºç©ºæ•°ç»„[]
				todos:JSON.parse(localStorage.getItem('todos')) || []
			}
		},
		methods: {
			//æ·»åŠ ä¸€ä¸ªtodo
			addTodo(todoObj){
				this.todos.unshift(todoObj)
			},
			//å‹¾é€‰orå–æ¶ˆå‹¾é€‰ä¸€ä¸ªtodo
			checkTodo(id){
				this.todos.forEach((todo)=>{
					if(todo.id === id) todo.done = !todo.done
				})
			},
			//åˆ é™¤ä¸€ä¸ªtodo
			deleteTodo(id){
				this.todos = this.todos.filter( todo => todo.id !== id )
			},
			//å…¨é€‰orå–æ¶ˆå…¨é€‰
			checkAllTodo(done){
				this.todos.forEach((todo)=>{
					todo.done = done
				})
			},
			//æ¸…é™¤æ‰€æœ‰å·²ç»å®Œæˆçš„todo
			clearAllTodo(){
				this.todos = this.todos.filter((todo)=>{
					return !todo.done
				})
			}
		},
    // ğŸ”´æ•°æ®å‘ç”Ÿæ”¹å˜å°±æ”¾åˆ°æœ¬åœ°å­˜å‚¨ä¸­ï¼Œæ³¨æ„æ·±åº¦ä¾¦å¬ï¼Œä»¥åŠJSONè½¬åŒ–ä¸ºå­—ç¬¦ä¸²
		watch: {
			todos:{
				deep:true,
				handler(value){
					localStorage.setItem('todos',JSON.stringify(value))
				}
			}
		},
	}
</script>
```

### 3.ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶

* 1.ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼š`å­ç»„ä»¶ ===> çˆ¶ç»„ä»¶`

* 2.ä½¿ç”¨åœºæ™¯ï¼š

* `å­ç»„ä»¶`æƒ³ç»™`çˆ¶ç»„ä»¶`ä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨`çˆ¶ç»„ä»¶ä¸­ç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶`ï¼ˆ**äº‹ä»¶çš„å›è°ƒåœ¨Aä¸­ï¼‰**

* 3 ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶

  * a.ç¬¬ä¸€ç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­`<Demo @äº‹ä»¶å="æ–¹æ³•"/>`æˆ–`<Demo v-on:äº‹ä»¶å="æ–¹æ³•"/>`

* å…·ä½“ä»£ç 
  
  `App.vue`
  
  ```vue
  <template>
  	<div class="app">
  		<!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬ä¸€ç§å†™æ³•ï¼Œä½¿ç”¨@æˆ–v-onï¼‰ -->
  		<Student @atguigu="getStudentName"/> 
  	</div>
  </template>
  
  <script>
  	import Student from './components/Student'
  
  	export default {
  		name:'App',
  		components:{Student},
  		data() {
  			return {
  				msg:'ä½ å¥½å•Šï¼',
  				studentName:''
  			}
  		},
  		methods: {
  			getStudentName(name,...params){
  				console.log('Appæ”¶åˆ°äº†å­¦ç”Ÿåï¼š',name,params)
  				this.studentName = name
  			}
  		}
  	}
  </script>
  
  <style scoped>
  	.app{
  		background-color: gray;
  		padding: 5px;
  	}
  </style>
  ```
  
  `Student.vue`
  
  ```vue
  <template>
  	<div class="student">
  		<button @click="sendStudentlName">æŠŠå­¦ç”Ÿåç»™App</button>
  	</div>
  </template>
  
  <script>
  	export default {
  		name:'Student',
  		data() {
  			return {
  				name:'å¼ ä¸‰',
  			}
  		},
  		methods: {
  			sendStudentlName(){
  				//è§¦å‘Studentç»„ä»¶å®ä¾‹èº«ä¸Šçš„atguiguäº‹ä»¶
  				this.$emit('atguigu',this.name,666,888,900)
  			}
  		},
  	}
  </script>
  
  <style lang="less" scoped>
  	.student{
  		background-color: pink;
  		padding: 5px;
  		margin-top: 30px;
  	}
  </style>
  ```
  
  
  
  * b. ç¬¬äºŒç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­`this.$refs.demo.$on('äº‹ä»¶å',æ–¹æ³•)`
* å…·ä½“ä»£ç 
`app.vue`
```vue
<template>
	<div class="app">
		<!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬äºŒç§å†™æ³•ï¼Œä½¿ç”¨refï¼‰ -->
		<Student ref="student"/>
	</div>
</template>

<script>
	import Student from './components/Student'

	export default {
		name:'App',
		components:{Student},
		data() {
			return {
				studentName:''
			}
		},
		methods: {
			getStudentName(name,...params){
				console.log('Appæ”¶åˆ°äº†å­¦ç”Ÿåï¼š',name,params)
				this.studentName = name
			},
		},
		mounted() {
			this.$refs.student.$on('atguigu',this.getStudentName) //ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶
			// this.$refs.student.$once('atguigu',this.getStudentName) //ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆä¸€æ¬¡æ€§ï¼‰
		},
	}
</script>

<style scoped>
	.app{
		background-color: gray;
		padding: 5px;
	}
</style>
```
`Student.vue`
```vue
<template>
	<div class="student">
		<button @click="sendStudentlName">æŠŠå­¦ç”Ÿåç»™App</button>
	</div>
</template>

<script>
	export default {
		name:'Student',
		data() {
			return {
				name:'å¼ ä¸‰',
			}
		},
		methods: {
			sendStudentlName(){
				//è§¦å‘Studentç»„ä»¶å®ä¾‹èº«ä¸Šçš„atguiguäº‹ä»¶
				this.$emit('atguigu',this.name,666,888,900)
			}
		},
	}
</script>

<style lang="less" scoped>
	.student{
		background-color: pink;
		padding: 5px;
		margin-top: 30px;
	}
</style>
```
  * c è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨`once`ä¿®é¥°ç¬¦ï¼Œæˆ–`$once`æ–¹æ³• 
* 4.è§¦å‘è‡ªå®šä¹‰äº‹ä»¶`this.$emit('äº‹ä»¶å',æ•°æ®) `
  * ä½¿ç”¨ this.$emit() å°±å¯ä»¥å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ æ•°æ®
* 5.è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶`this.$off('äº‹ä»¶å') `
```js
this.$off('atguigu') //è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶
// this.$off(['atguigu','demo']) //è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶
// this.$off() //è§£ç»‘æ‰€æœ‰çš„è‡ªå®šä¹‰äº‹ä»¶
```
* 6.ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”Ÿ`DOMäº‹ä»¶`ï¼Œéœ€è¦ä½¿ç”¨`native`ä¿®é¥°ç¬¦ 
```js
<!-- é€šè¿‡çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶å®ç°ï¼šå­ç»™çˆ¶ä¼ é€’æ•°æ®ï¼ˆç¬¬äºŒç§å†™æ³•ï¼Œä½¿ç”¨refï¼‰ -->
<Student ref="student" @click.native="show"/>
```
>  æ³¨æ„ï¼šé€šè¿‡`this.$refs.xxx.$on('äº‹ä»¶å',å›è°ƒå‡½æ•°)`ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒå‡½æ•°è¦ä¹ˆé…ç½®åœ¨`methods`ä¸­ï¼Œè¦ä¹ˆç”¨ç®­å¤´å‡½æ•°ï¼Œå¦åˆ™` this`æŒ‡å‘ä¼šå‡ºé—®é¢˜
